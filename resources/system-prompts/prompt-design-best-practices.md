# 提示詞設計最佳實踐 (Prompt Design Best Practices)

本文檔記錄提示詞設計的重要性、常見問題與解決方案，以及從實際案例中學到的經驗教訓。

## 📌 為什麼提示詞設計很重要？

提示詞的設計直接影響 AI 輸出的品質。一個好的提示詞能讓 AI 產生自然、流暢、符合需求的輸出；而設計不良的提示詞可能導致機械化、缺乏邏輯、或偏離目標的結果。

## 🎯 核心原則

### 1. **教學節奏：先宏觀概述，再微觀拆解**

**問題：** 直接跳入細節，讀者容易迷失在技術術語中。

**解決方案：** 要求 AI 先給出整體圖像（「這是什麼？」「核心問題是什麼？」），建立宏觀理解後，再進入深度拆解。

**範例：**

❌ **不良設計：**
```
直接要求：「對每個概念進行原子級拆解，使用 🔍 標記」
結果：AI 直接跳入細節，缺少整體脈絡
```

✅ **良好設計：**
```
要求：「先以 2-3 句話說明整體主題、核心問題或技術背景，讓讀者建立宏觀理解。然後再進行深度拆解。」
結果：AI 先給概述，再進入細節，讀者更容易理解
```

### 2. **標記使用：簡潔圖示，避免混亂**

**問題：** 使用完整的標記（如 `[🔍 Deep Dive Mode]…[End Deep Dive]`）會造成輸出混亂，視覺上過於冗長。

**解決方案：** 將標記簡化為只有圖示（如 `🔍` 或 `💡`），可選使用，僅在特別複雜需要明確標示切換時使用。

**範例：**

❌ **不良設計：**
```
「當某頁仍然晦澀，就地啟動深度拆解，並在段首標註 [🔍 Deep Dive Mode]，收尾以 [End Deep Dive]」
結果：標記過於冗長，造成輸出混亂
```

✅ **良好設計：**
```
「當某頁仍然晦澀，就地啟動深度拆解。若某段特別複雜需要明確標示切換，可選用 🔍（深度拆解）或 💡（洞察觀點）圖示標記，但標記應自然融入敘述，避免過度使用導致輸出混亂。」
結果：標記簡潔清晰，只在必要時使用，輸出更自然
```

### 3. **自然對話感：避免機械化套用框架**

**問題：** 過度強調「必須套用框架」，導致輸出像填空題。

**解決方案：** 強調「自然融入」「根據內容靈活調整」，而非「嚴格套用」。

**範例：**

❌ **不良設計：**
```
「回饋必須包含：1. Context Lens 2. Highlights 3. Implications 4. Gaps & Curiosities」
結果：AI 機械化地逐項填寫，缺乏自然流暢感
```

✅ **良好設計：**
```
「回饋應像真實的同儕或導師在分享心得，避免機械化地套用框架，而是根據內容自然流暢地提出觀察與提問。」
結果：AI 根據內容靈活組織，輸出更自然
```

## 📊 實際案例：Profile B 的優化歷程

### 問題描述

在 Profile B（全息概念重建師）的早期版本中，輸出雖然完整，但存在以下問題：

1. **缺少宏觀概述**：直接跳入技術細節，讀者難以建立整體理解
2. **標記過度使用**：每段都強制使用 `🔍` 標記，導致輸出機械化
3. **缺少教學節奏**：沒有「先給整體圖像，再深入細節」的引導

### 修改前 vs 修改後對比

#### 修改前（問題版本）

**開場：**
```
### 前置防護 (Pre-Flight Check)

快速掃描輸入：
- 影像內容：一張包含兩個子圖的架構流程圖。
- 左圖 (a) Harness：展示了一個簡單的 Fuzzing 流程...
- 關鍵字：AFL-Fuzz, Harness, init jvm...

你好！我是你的全息概念重建師。這張圖表雖然看起來只是幾個方塊和箭頭，但它實際上描述了一個...效能演進故事。

我們將啟動 Deep Dive Mode，將這兩個架構拆解到原子等級...
```

**問題點：**
- 前置防護過於詳細，佔用太多篇幅
- 開場後立即說「啟動 Deep Dive Mode」，缺少宏觀概述
- 直接跳入細節拆解

#### 修改後（優化版本）

**開場：**
```
### 前置防護 (Pre-Flight Check)

⚠️ 資料完整性警示：
1. 情境推斷：提供的圖片是一張技術架構圖...
2. 術語補充：原圖中出現了 dlopen, dlsym, JVM 等術語，原文並未提供定義...

你好！我是全息概念重建師 (Concept Rebuilder)。

這張圖片的核心主題是「如何讓一個只懂 C 語言的暴力測試工具 (AFL)，去測試一個講 Java 語言的程式？」...

這張圖展示了兩種達成這個目標的「溝通架構」：直接包裝模式 (Harness) 與 客戶端/伺服器模式 (C/S architecture)。

接下來，我將為您進行深度拆解。

---

## 階段一：宏觀概述 (Overview)

### 這是什麼？
這兩張圖展示了 AFL-Fuzz 如何與目標程式進行互動...

### 核心問題是什麼？
AFL-Fuzz 本身是為 C/C++ 程式設計的，它不懂 Java (JVM)。但我們想用它來測試 Java 程式...
```

**改進點：**
- 前置防護更簡潔，只列出關鍵警示
- 開場先給整體主題和核心問題的概述
- 明確分為「階段一：宏觀概述」和「階段二：深度拆解」
- 標記使用更節制，只在必要時使用

### 關鍵改進措施

1. **角色定義調整：**
   - 從「我將扮演...」改為「我是...」，更直接自然
   - 強調「先給你一個清晰的整體圖像，然後再進行原子級的深度拆解」

2. **核心執行流程調整：**
   - 加入「開場概述」步驟：先以 2-3 句話說明整體主題
   - 強調「教學節奏」：先給「這是什麼」的整體圖像，再進入「為什麼這樣設計」的細節
   - 要求「結語與延伸」：在每個章節結尾加入「教師結語」和「下一步建議」

3. **標記使用調整：**
   - 從「必須標註」改為「可選使用」
   - 強調「標記應自然融入敘述，避免過度使用導致輸出機械化」

## 🎓 從案例中學到的經驗

### 1. 教學節奏的重要性

**教訓：** 即使是「深度拆解」模式，也需要先建立宏觀理解，否則讀者會迷失在細節中。

**實踐：** 在提示詞中明確要求「先宏觀概述→再微觀拆解→最後總結延伸」的節奏。

### 2. 標記的雙刃劍

**教訓：** 標記可以幫助讀者辨識切換，但完整的標記（如 `[🔍 Deep Dive Mode]…[End Deep Dive]`）會造成輸出混亂，過度使用會讓輸出感覺機械化。

**實踐：** 將標記簡化為只有圖示（如 `🔍` 或 `💡`），改為可選，只在特別複雜需要明確標示時使用。

### 3. 自然對話感 vs 嚴格框架

**教訓：** 過度強調「必須套用框架」會導致輸出像填空題，缺乏自然流暢感。

**實踐：** 強調「根據內容自然流暢地組織」，而非「嚴格套用框架」。

### 4. 前置防護的平衡

**教訓：** 前置防護很重要，但過於詳細會佔用太多篇幅，影響主要內容的呈現。

**實踐：** 前置防護應簡潔，只列出關鍵警示和推測界線。

## 📝 提示詞設計檢查清單

在設計或優化提示詞時，可以參考以下檢查清單：

- [ ] **教學節奏**：是否要求「先宏觀概述，再微觀拆解」？
- [ ] **標記使用**：標記是可選的還是強制的？是否會導致機械化？
- [ ] **自然對話感**：是否強調「自然融入」而非「嚴格套用」？
- [ ] **前置防護**：是否簡潔，只列出關鍵警示？
- [ ] **結語延伸**：是否要求「教師結語」和「下一步建議」？
- [ ] **角色定義**：是否直接自然，而非過於正式？
- [ ] **輸出測試**：實際測試輸出是否自然流暢，而非機械化？

## 🔗 相關資源

- [data-organization-expert_profiles.md](./data-organization-expert_profiles.md) - 實際應用這些最佳實踐的提示詞範例
- [Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering) - OpenAI 的提示詞工程指南

---

**最後更新：2025-11-25**

